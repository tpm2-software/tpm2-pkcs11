# SPDX-License-Identifier: BSD-2-Clause
sudo: required
language: c
services:
- docker
compiler:
- gcc
- clang
env:
  global:
    - PYTHON_INTERPRETER=python3.7
  matrix:
    - DOCKER_TAG=ubuntu-16.04

# only one build should report coverage stats
matrix:
  include:
  - env: ENABLE_COVERAGE=true DOCKER_TAG=ubuntu-16.04
    compiler: gcc

script:
  - ./.ci/travis.run
after_failure:
  - cat build/test-suite.log
